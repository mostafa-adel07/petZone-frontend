{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { CountryModal } from \"./CountryModal\";\nimport { HeaderModal } from \"./HeaderModal\";\nimport { FlagType } from \"./types\";\nimport { CountryFilter } from \"./CountryFilter\";\nimport { FlagButton } from \"./FlagButton\";\nimport { useContext } from \"./CountryContext\";\nimport { CountryList } from \"./CountryList\";\n\nvar renderFlagButton = function renderFlagButton(props) {\n  return props.renderFlagButton ? props.renderFlagButton(props) : React.createElement(FlagButton, _extends({}, props));\n};\n\nvar _renderFilter = function renderFilter(props) {\n  return props.renderCountryFilter ? props.renderCountryFilter(props) : React.createElement(CountryFilter, _extends({}, props));\n};\n\nexport var CountryPicker = function CountryPicker(props) {\n  var countryCode = props.countryCode,\n      region = props.region,\n      subregion = props.subregion,\n      countryCodes = props.countryCodes,\n      renderButton = props.renderFlagButton,\n      renderCountryFilter = props.renderCountryFilter,\n      filterProps = props.filterProps,\n      modalProps = props.modalProps,\n      flatListProps = props.flatListProps,\n      onSelect = props.onSelect,\n      withEmoji = props.withEmoji,\n      withFilter = props.withFilter,\n      withCloseButton = props.withCloseButton,\n      withCountryNameButton = props.withCountryNameButton,\n      withCallingCodeButton = props.withCallingCodeButton,\n      withCurrencyButton = props.withCurrencyButton,\n      containerButtonStyle = props.containerButtonStyle,\n      withAlphaFilter = props.withAlphaFilter,\n      withCallingCode = props.withCallingCode,\n      withCurrency = props.withCurrency,\n      withFlag = props.withFlag,\n      withModal = props.withModal,\n      disableNativeModal = props.disableNativeModal,\n      withFlagButton = props.withFlagButton,\n      handleClose = props.onClose,\n      handleOpen = props.onOpen,\n      closeButtonImage = props.closeButtonImage,\n      closeButtonStyle = props.closeButtonStyle,\n      closeButtonImageStyle = props.closeButtonImageStyle,\n      excludeCountries = props.excludeCountries,\n      placeholder = props.placeholder,\n      preferredCountries = props.preferredCountries;\n\n  var _useState = useState({\n    visible: props.visible || false,\n    countries: [],\n    filter: '',\n    filterFocus: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useContext = useContext(),\n      translation = _useContext.translation,\n      getCountriesAsync = _useContext.getCountriesAsync;\n\n  var visible = state.visible,\n      filter = state.filter,\n      countries = state.countries,\n      filterFocus = state.filterFocus;\n  useEffect(function () {\n    if (state.visible !== props.visible) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        visible: props.visible || false\n      }));\n    }\n  }, [props.visible]);\n\n  var onOpen = function onOpen() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      visible: true\n    }));\n\n    if (handleOpen) {\n      handleOpen();\n    }\n  };\n\n  var onClose = function onClose() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      filter: '',\n      visible: false\n    }));\n\n    if (handleClose) {\n      handleClose();\n    }\n  };\n\n  var setFilter = function setFilter(filter) {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filter: filter\n    }));\n  };\n\n  var setCountries = function setCountries(countries) {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      countries: countries\n    }));\n  };\n\n  var onSelectClose = function onSelectClose(country) {\n    onSelect(country);\n    onClose();\n  };\n\n  var onFocus = function onFocus() {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filterFocus: true\n    }));\n  };\n\n  var onBlur = function onBlur() {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filterFocus: false\n    }));\n  };\n\n  var flagProp = {\n    countryCode: countryCode,\n    withEmoji: withEmoji,\n    withCountryNameButton: withCountryNameButton,\n    withCallingCodeButton: withCallingCodeButton,\n    withCurrencyButton: withCurrencyButton,\n    withFlagButton: withFlagButton,\n    renderFlagButton: renderButton,\n    onOpen: onOpen,\n    containerButtonStyle: containerButtonStyle,\n    placeholder: placeholder\n  };\n  useEffect(function () {\n    getCountriesAsync(withEmoji ? FlagType.EMOJI : FlagType.FLAT, translation, region, subregion, countryCodes, excludeCountries, preferredCountries, withAlphaFilter).then(setCountries).catch(console.warn);\n  }, [translation, withEmoji]);\n  return React.createElement(React.Fragment, null, withModal && renderFlagButton(flagProp), React.createElement(CountryModal, _extends({}, _objectSpread({\n    visible: visible,\n    withModal: withModal,\n    disableNativeModal: disableNativeModal\n  }, modalProps), {\n    onRequestClose: onClose,\n    onDismiss: onClose\n  }), React.createElement(HeaderModal, _extends({}, {\n    withFilter: withFilter,\n    onClose: onClose,\n    closeButtonImage: closeButtonImage,\n    closeButtonImageStyle: closeButtonImageStyle,\n    closeButtonStyle: closeButtonStyle,\n    withCloseButton: withCloseButton\n  }, {\n    renderFilter: function renderFilter(props) {\n      return _renderFilter(_objectSpread(_objectSpread({}, props), {}, {\n        renderCountryFilter: renderCountryFilter,\n        onChangeText: setFilter,\n        value: filter,\n        onFocus: onFocus,\n        onBlur: onBlur\n      }, filterProps));\n    }\n  })), React.createElement(CountryList, _extends({}, {\n    onSelect: onSelectClose,\n    data: countries,\n    letters: [],\n    withAlphaFilter: withAlphaFilter && filter === '',\n    withCallingCode: withCallingCode,\n    withCurrency: withCurrency,\n    withFlag: withFlag,\n    withEmoji: withEmoji,\n    filter: filter,\n    filterFocus: filterFocus,\n    flatListProps: flatListProps\n  }))));\n};\nCountryPicker.defaultProps = {\n  withModal: true,\n  withAlphaFilter: false,\n  withCallingCode: false,\n  placeholder: 'Select Country'\n};","map":{"version":3,"sources":["../src/CountryPicker.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CountryModal } from './CountryModal';\nimport { HeaderModal } from './HeaderModal';\nimport { FlagType } from './types';\nimport { CountryFilter } from './CountryFilter';\nimport { FlagButton } from './FlagButton';\nimport { useContext } from './CountryContext';\nimport { CountryList } from './CountryList';\nconst renderFlagButton = (props) => props.renderFlagButton ? (props.renderFlagButton(props)) : (React.createElement(FlagButton, Object.assign({}, props)));\nconst renderFilter = (props) => props.renderCountryFilter ? (props.renderCountryFilter(props)) : (React.createElement(CountryFilter, Object.assign({}, props)));\nexport const CountryPicker = (props) => {\n    const { countryCode, region, subregion, countryCodes, renderFlagButton: renderButton, renderCountryFilter, filterProps, modalProps, flatListProps, onSelect, withEmoji, withFilter, withCloseButton, withCountryNameButton, withCallingCodeButton, withCurrencyButton, containerButtonStyle, withAlphaFilter, withCallingCode, withCurrency, withFlag, withModal, disableNativeModal, withFlagButton, onClose: handleClose, onOpen: handleOpen, closeButtonImage, closeButtonStyle, closeButtonImageStyle, excludeCountries, placeholder, preferredCountries } = props;\n    const [state, setState] = useState({\n        visible: props.visible || false,\n        countries: [],\n        filter: '',\n        filterFocus: false,\n    });\n    const { translation, getCountriesAsync } = useContext();\n    const { visible, filter, countries, filterFocus } = state;\n    useEffect(() => {\n        if (state.visible !== props.visible) {\n            setState({ ...state, visible: props.visible || false });\n        }\n    }, [props.visible]);\n    const onOpen = () => {\n        setState({ ...state, visible: true });\n        if (handleOpen) {\n            handleOpen();\n        }\n    };\n    const onClose = () => {\n        setState({ ...state, filter: '', visible: false });\n        if (handleClose) {\n            handleClose();\n        }\n    };\n    const setFilter = (filter) => setState({ ...state, filter });\n    const setCountries = (countries) => setState({ ...state, countries });\n    const onSelectClose = (country) => {\n        onSelect(country);\n        onClose();\n    };\n    const onFocus = () => setState({ ...state, filterFocus: true });\n    const onBlur = () => setState({ ...state, filterFocus: false });\n    const flagProp = {\n        countryCode,\n        withEmoji,\n        withCountryNameButton,\n        withCallingCodeButton,\n        withCurrencyButton,\n        withFlagButton,\n        renderFlagButton: renderButton,\n        onOpen,\n        containerButtonStyle,\n        placeholder,\n    };\n    useEffect(() => {\n        getCountriesAsync(withEmoji ? FlagType.EMOJI : FlagType.FLAT, translation, region, subregion, countryCodes, excludeCountries, preferredCountries, withAlphaFilter)\n            .then(setCountries)\n            .catch(console.warn);\n    }, [translation, withEmoji]);\n    return (React.createElement(React.Fragment, null,\n        withModal && renderFlagButton(flagProp),\n        React.createElement(CountryModal, Object.assign({}, { visible, withModal, disableNativeModal, ...modalProps }, { onRequestClose: onClose, onDismiss: onClose }),\n            React.createElement(HeaderModal, Object.assign({}, {\n                withFilter,\n                onClose,\n                closeButtonImage,\n                closeButtonImageStyle,\n                closeButtonStyle,\n                withCloseButton,\n            }, { renderFilter: (props) => renderFilter({\n                    ...props,\n                    renderCountryFilter,\n                    onChangeText: setFilter,\n                    value: filter,\n                    onFocus,\n                    onBlur,\n                    ...filterProps,\n                }) })),\n            React.createElement(CountryList, Object.assign({}, {\n                onSelect: onSelectClose,\n                data: countries,\n                letters: [],\n                withAlphaFilter: withAlphaFilter && filter === '',\n                withCallingCode,\n                withCurrency,\n                withFlag,\n                withEmoji,\n                filter,\n                filterFocus,\n                flatListProps,\n            })))));\n};\nCountryPicker.defaultProps = {\n    withModal: true,\n    withAlphaFilter: false,\n    withCallingCode: false,\n    placeholder: 'Select Country',\n};\n//# sourceMappingURL=CountryPicker.js.map"]},"metadata":{},"sourceType":"module"}